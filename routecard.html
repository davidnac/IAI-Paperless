<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Digital Route card</title>

  <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js" crossorigin="anonymous"></script>

<style>
@import url('https://fonts.googleapis.com/css?family=Muli&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Libre+Barcode+128&family=Libre+Barcode+39&family=Montserrat:wght@300&display=swap');


:root {
  --line-border-fill: #1DE9B6;
  --line-border-empty: #e0e0e0;

    --red: #F8485E;
    --cyan: hsl(180, 62%, 55%);
    --orange: hsl(34, 97%, 64%);
    --blue: hsl(212, 86%, 64%);
    --varyDarkBlue: hsl(234, 12%, 34%);
    --grayishBlue: hsl(229, 6%, 66%);
    --veryLightGray: hsl(0, 0%, 98%);
    --DarkGray: #3A3B3C;
    --weight1: 200;
    --weight2: 400;
    --weight3: 600;
}

* {
  box-sizing: border-box;
}

body{
  background-color: #f6f7fb;
  font-family: 'Muli', sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100%;
  width: 100vw;
  overflow-x: hidden;
  overflow-y: scroll;
  margin: 0;
  position: relative;
}

.container {
  max-width: 100%;
  height: 100%;
  text-align: center;
}

.progress-container-wrapper{
  background-color: #f6f7fb;
  position: sticky;
  padding-top: 20px;
  top: 0;
  left: 0;
  right: 0;
  z-index: 8;
}

.progress-container {
  position: relative;
  display: flex;
  justify-content: space-between;
  margin: auto;
  width: 90vw;
  overflow-x: scroll;
  overflow-x: hidden;
  height: 100px;
}

.progress-container::before {
  content: '';
  background-color: var(--line-border-empty);
  position: absolute;
  top: 20px;
  left: 0;
  transform: translateY(-50%);
  height: 4px;
  width: 100%;
  z-index: -1;
}


.progress {
  background-color: var(--line-border-fill);
  position: absolute;
  top: 20px;
  left: 0;
  transform: translateY(-50%);
  height: 4px;
  width: 0%;
  z-index: -1;
  transition: 0.4s ease;
}

.circle {
  font-weight: bold;
  background-color: #fff;
  color: #999;
  border-radius: 50%;
  height: 40px;
  width: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 3px solid var(--line-border-empty);
  transition: 0.4s ease;
}

.circle.active {
  border-color: var(--line-border-fill);
  background-color: var(--line-border-fill);
  color: black;
}

.circle:hover {
  border-color: #F07470;
  color: black;
  cursor: pointer;
}

.current-circle{
  border-color: #F07470;
  color: black;
  cursor: pointer;
}


li{
position: relative;
}

span {
  position: absolute;
  top: 3em;
  left: 10;
  color: black;
  font-size: 13px;
  margin-top: 6px;
  max-width: 80px;
  text-align: center;
}

.btn {
  background-color: var(--line-border-fill);
  color: black;
  border: 0;
  border-radius: 5px;
  cursor: pointer;
  font-family: inherit;
  padding: 8px 26px;
  margin: 5px;
  font-size: 14px;
  min-width: 110px;
}

.btn-action{
   background-color: var(--cyan);
   border-radius: 0;
   font-weight: bold;
}

.btn-action-end{
   background-color: var(--blue);
   border-radius: 0;
   font-weight: bold;
}

.btn-action-transit{
   background-color: var(--orange);
   width: 82%;
   font-weight: bold;
   margin: 10px 0 10px 0;
}

.btn a{
text-decoration: none;
color: black;
}

.btn-lab{
background-color: var(--orange);
}

.btn:active {
  transform: scale(0.98);
}

.btn:hover {
  background-color: #009DAE;
  color: white;
}

.btn:hover a{
  color: white;
}

.btn-lab:hover{
background-color: #ff8c00;
}

.btn-action-transit:hover{
background-color: #ff8c00;
}


.btn-action-end:hover{
background-color: #003366;
}

.btn-action:hover{
background-color: #008B8B;
}

.btn:focus {
  outline: 0;
}

.btn-container{
  margin-top: 60px;
}

.btn:disabled {
  background-color: var(--line-border-empty);
  cursor: not-allowed;
}

.btns-container{
  display: flex;
  flex-direction: row;
  justify-content: center;
  margin: 0 auto 12px auto;
}

.card-container{
 height: 100vh;
 height: 100%;
 display: flex;
 padding-bottom: 0;
 margin-bottom: 20px;
 margin-top: 30px;
}

.card-container .operations{
  flex: 3;
  height: 100%;
}

.card-container .data{
  flex: 9;
  height: 100%;
}


/*--------------------------*/

.box {
    border-radius: 5px;
    box-shadow: 0px 30px 40px -20px var(--grayishBlue);
    padding: 20px 30px 18px 30px;
    margin: 0 30px 23px 30px;
    background-color: white;
    z-index: 6;
    position: relative;
    text-align: center;
}

.side{
margin-left: 10px;
}

.box p {
    color: var(--DarkGray);
    margin-top: 10px;
    margin-bottom: 12px;;
}

.box h3{
text-transform: uppercase;
margin-top: 0;
}

.box h4{
margin: 10px;
}

.instructions{
  max-width: 45%;
  text-align: start;
  margin: 0 auto 12px auto;
  text-align: justify;
}

.red {
    border-top: 3px solid var(--red);
}

.black {
    border-top: 3px solid black;
}

.blue {
    border-top: 3px solid var(--blue);
}

.cyan {
    border-top: 3px solid var(--cyan);
}

.cyan-all {
    border: 5px solid var(--cyan);
}

.orange {
    border-top: 3px solid var(--orange);
}
/*--------------*/
          .step-info{
            display: flex;
            flex-direction: row;
            justify-content: space-between;
          }

          .creation-info{
          display: flex;
          flex-direction: row;
          }

          .usage-info{
          display: flex;
          flex-direction: row;
          }

          .creation-info .contact-line{
            margin-right: 20px;
          }

          .usage-info .contact-line{
            margin-left: 20px;
          }

          .divider{
            margin-top: 20px;
            border-top: 2px solid black;
          }
          .finished-step{
           border-top: 3px solid var(--red);
           }
           .inprocess-step{
           border-top: 3px solid var(--orange);
           }

          .contact-line{
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            text-align: center;
            vertical-align: middle;
            color: black;
          }

          .contact-line p{
           margin-bottom: 0;
           margin-top: 10px;
           font-size: 15px;
          }

          .contact-icon{
            font-size: 16px;
            margin-right: 10px;
            margin-top: 12px;
            color: black;
          }


/*-------------------------*/
.numberCircle {
    border-radius: 10%;
    padding: 8px;
    background: #fff;
    border: 2px solid black;
    color: black;
    text-align: center;
    font-weight: bold;
    font-size: 16px;
    position: absolute;
    top: 20px;
    right: 20px;
}

.dash-nine{
 background-color: #da2c43;
}

.up-position{
    position: absolute;
    top: 20px;
    left: 20px;
}

.sign-container-inline{
    position: relative;
    display: flex;
    flex-direction: row;
    justify-content: center;
    padding: 40px 20px 30px 20px;

}

.sign-container-inline .signature{
    width: 220px;
}




.sign-container{
    position: absolute;
    top: 100px;
    left: 30px;
}

.signature{
    display: flex;
    flex-direction: column;
    border-radius: 8px;
    padding: 10px;
    border: 2px solid var(--blue);
    text-align: center;
    font-weight: bold;
    font-size: 14px;
    position: relative;
    z-index: 3;
    transform: rotate(-10deg);
}


.signature p, .round-signature p{
  display: inline-block;
  margin: 0;
  text-align: start;
}

.watermark{
position: absolute;
top: 40%;
left: 18%;
color: var(--blue) !important;
opacity: 0.4;
z-index: 2;
display: inline-block;
font-weight: bold;
font-size: 26px;
text-transform: uppercase;
transform: rotate(10deg);
}



.signature .span{
  color: var(--blue);
}

.date-time{
  font-size: 12px;
}

.barcode{
  font-family: 'Libre Barcode 39', cursive;
  font-family: 'Libre Barcode 128', cursive;
  font-size: 5rem;
  margin: 20px 20px 0 20px;
  height: 60px;
}

#current-step{
  margin-top: 0;
}

/*-----------------finish dialog---------------------*/
.dialog-background{
  position: absolute;
  background-color: #3A3B3C;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  opacity: 0.7;
  z-index: 9;
  display: none;
}

.finish-dialog{
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  text-align: start;
  z-index: 10;
  border-radius: 12px;
  display: none;
}

.finish-dialog .form{
  display: flex;
  flex-direction: column;
}

.finish-dialog label{
  display: block;
  font-size: 12px;
  margin-top: 14px;
  color: #003366;
  text-transform: uppercase;
}

.finish-dialog input, textarea{
  width: 500px;
  padding: 8px;
  font-size: 16px;
}

.finish-dialog select{
  width: 200px;
  padding: 4px;
  font-size: 15px;
}

.finish-dialog h2{
  margin-top: 0;
}

.finish-dialog .btn-div{
 display: flex;
 flex-direction: row;
 justify-content: end;
 margin-top: 32px;
}

.finish-dialog .btn-div-finish{
 justify-content: space-between;
}

.finish-dialog .btn-div button{
  padding: 10px 14px 10px 14px;
  border-radius: 6px;
  color: white;
  background-color: #F8485E;
  border: none;
  margin-left: 10px;
  text-transform: uppercase;
}

.finish-dialog .btn-div .blue{
  background-color: var(--blue);
  margin-left: 0;
}

.finish-dialog .btn-div .blue:hover{
  background-color: #406882;
}

.finish-dialog .btn-div button:hover{
  cursor: pointer;
  background-color: #9B0000 ;
}

.finish-dialog .custom-file-input{
 padding-left: 0;
}

.finish-dialog .custom-file-input::-webkit-file-upload-button {
  display: none;
}
.finish-dialog .custom-file-input::before {
  content: 'Select files';
  display: inline-block;
  background: linear-gradient(top, #f9f9f9, #e3e3e3);
  border: 1px solid #999;
  border-radius: 3px;
  padding: 6px 12px;
  outline: none;
  white-space: nowrap;
  -webkit-user-select: none;
  cursor: pointer;
  text-shadow: 1px 1px #fff;
  font-weight: 700;
  font-size: 15px;
  margin-right: 10px;
}
.finish-dialog .custom-file-input:hover::before {
  border-color: black;
}
.finish-dialog .custom-file-input:active::before {
  background: -webkit-linear-gradient(top, #e3e3e3, #f9f9f9);
}

  /*--------------cladding dialog---------*/

  #input-dialog-cladding input{
    width: 250px;
    font-size: 15px;
    margin: 0;
    border-radius: 3px;
    border: 1px solid black;
  }

  #input-dialog-cladding label{
    margin-bottom: 6px;
  }

  #input-dialog-cladding table{
    display: table;
    width: 500px;
    margin-top: 0;
    margin-bottom: 20px;
    border-collapse: collapse;
    border-bottom: : 1px solid blue;
    border-radius: 5px;
  }

  #input-dialog-cladding table tr:last-child{
       border-bottom: 1px solid var(--blue);
    }

  #input-dialog-cladding table td{
  text-align: center;
  padding: 12px 16px;
  }

  #input-dialog-cladding table th{
    padding: 12px 16px;
    text-align: center;
    background-color: var(--blue);
  }

  #input-dialog-cladding table tr:nth-child(odd){background-color: #f2f2f2;}

  #input-dialog-cladding table input[type='checkbox']{
  width: 30px;
  }

  #input-dialog-cladding .table_cell{
  display:block;
  }


  #input-dialog-cladding .table_cell.req{
  text-align: start;
  }

  #input-dialog-cladding h3{
    margin: 32px 0 6px 0;
  }

  #input-dialog-cladding p{
    margin: 0 0 4px 0;
    font-size: 14px;
  }

  /*--------------cladding dialog---------*/

  /*-------------navbar----------------*/

                  .control-bar{
                   width: 100vw;
                   height: 62px;
                   background-color: #212529;
                   display: flex;
                   flex-direction: row;
                   justify-content: space-between;
                   box-sizing: border-box;
                   overflow: hidden;
                   text-transform: uppercase;
                   color: white;
                 }

                 .control-bar a{
                     font-size: 32px;
                     margin: auto 22px;
                     text-decoration: none;
                     color: white;
                     cursor: pointer;
                 }

                 .control-bar a:hover {
                    color: #00adb5;
                 }

                 .control-bar .text{
                     font-size: 16px;
                     margin: auto 12px;
                     text-decoration: none;
                 }

                 .control-bar .signout{
                     font-size: 16px;
                     background-color: #00adb5;
                     border-radius: 22px;
                     padding: 7px 17px;
                     margin-right: 22px ;
                 }

                 .control-bar .signout:hover {
                    background-color: #047e85;
                    color: white;
                 }

                 .control-bar .navbar-cont{
                    height: 100%;
                    overflow: hidden;
                    padding: 8px;
                    display: flex;
                    flex-direction: row;
                    justify-content: start;
                 }
                /*-------------navbar----------------*/


                 /*-------------custom scrollbar----------*/

                /* width */
                ::-webkit-scrollbar {
                  width: 14px;
                }

                /* Track */
                ::-webkit-scrollbar-track {
                  box-shadow: inset 0 0 5px grey;
                  border-radius: 6px;
                }

                /* Handle */
                ::-webkit-scrollbar-thumb {
                  background: gray;
                  border-radius: 8px;
                }

                /* Handle on hover */
                ::-webkit-scrollbar-thumb:hover {
                  background: #6998AB;
                }

                /*-------------custom scrollbar----------*/
                /*-------------toolip---------------------*/

                .tooltip {

                 }

.tooltip .tooltiptext {
  visibility: hidden;
  width: 250px;
  max-width: 250px;
  background-color: black;
  color: #fff;
  text-align: center;
  border-radius: 6px;
  padding: 14px;

  /* Position the tooltip */
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -60px;
  z-index: 1;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
}
/*-------------toolip---------------------*/

.box .boldText{
font-style: 700;
color: var(--red);
}

.exception-container{
border: 2px solid #B762C1;
padding: 8px;
}

.round-signature-container{
  position: relative;
  width: 200px;
  height: 100px;
}


.round-signature{
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
    height: 100px;
    width: 100px;
    display: flex;
    flex-direction: column;
    border-radius: 50%;
    padding: 10px;
    border: 12px double #DD4A48;
    outline: 2px solid black;
    text-align: center;
    font-weight: bold;
    font-size: 14px;
    z-index: 3;
}

    .watermark-two{
    position: absolute;
    top: 42%;
    left: 52%;
    transform: translateX(-50%) rotate(-10deg) translateY(-50%);
    border-radius: 5px;
    padding: 0 5px;
    color: var(--red) !important;
    opacity: 1;
    background-color: rgb(255,255,255 ,0.7);
    z-index: 4;
    display: inline-block;
    font-weight: bold;
    font-size: 26px;
    text-transform: uppercase;
    border: 2px solid var(--red);
    outline: 1px solid black;
    margin: 0;
    }



    /*--------------trapez------------*/
    .all-sigs-container{
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      width: 450px;
      margin: auto;
      margin-top: 40px;
    }


    .trapez {
  width: 50px;        /* optional - feel free to remove it */
  /* height: 150px; */ /* optional - feel free to remove it */
  position: relative;
  padding: 7px;
  padding-top: 16px;
  font-size: 14px;
  font-weight: bold;
}

.trapez:before {
  content: "";
  position: absolute;
  border: 2px solid black;
  border-top: 4px solid black;
  top: -8%; bottom: 2%; left: -3%; right: -3%;
  margin-bottom: 6px;
  z-index: -1;
  -webkit-transform: perspective(6em) rotateX(35deg);
  transform: perspective(6em) rotateX(35deg);
}

.semi-circle-sig{
  height: 60px;
  width: 60px;
  font-size: 14px;
  font-weight: bold;
  padding: 7px;
  border: 2px solid black;
  background-color: white;
  border-bottom-right-radius: 50%;
  border-bottom-left-radius: 50%;
  border-top-right-radius: 10px;
  border-top-left-radius: 10px;
}

.circle-sig{
  height: 60px;
  width: 60px;
  padding: 7px;
  text-align: center;
  font-size: 11px;
  font-weight: bold;
  padding: 7px;
  border: 2px solid black;
  background-color: white;
  border-radius: 50%
}

.accept-sig{
  letter-spacing: 2px;
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 30px;
  text-align: center;
  font-size: 17px;
  font-weight: 900;
  padding: 0 15px;
  border: 3px solid black;
  background-color: white;
  align-items: center;
}

.circle-sig-semi2{
    position: relative;
    font-size: 14px;
    font-weight: bold;
    padding: 7px;
    padding: 12px;
}

.circle-sig-semi2:before {
  content: "";
  position: absolute;
  border-bottom: 2px solid black;
  top: -10%; left: 15%; right: 15%;
  height: 10px;
  background-color: white;
  margin-bottom: 6px;
}

</style>


  </head>
  <body>


    <div class="control-bar">
      <div class="navbar-cont">
        <a href=""><i class="fas fa-user-circle"></i></a>
        <a class="text">Station 1824</a>
      </div>
      <div class="navbar-cont">
        <a class="text signout" id="editBtn">Edit</a>
        <!--<a href="login.html" class="text signout">Sign out</a>-->
      </div>
    </div>


    <div class="container">
      <div class="progress-container-wrapper">
        <div class="progress-container">
            <div class="progress" id="progress"></div>
            <div class="circle active">1 <span>Shot peen</span></div>
            <div class="circle current-circle">2 <span>Clean part</span></div>
            <div class="circle">3 <span>GTAW welding</span></div>
            <div class="circle">4 <span>Heat treat</span></div>
            <div class="circle">5 <span>Metalugraphic evaluation</span></div>
            <div class="circle">6 <span>Plasma coating</span></div>
            <div class="circle">7 <span>Service approval</span></div>
            <div class="circle">8 <span>-</span></div>
            <div class="circle">9 <span>-</span></div>
            <div class="circle">10 <span>-</span></div>
            <div class="circle">11 <span>-</span></div>
            <div class="circle">12 <span>-</span></div>
            <div class="circle">13 <span>-</span></div>
            <div class="circle">14 <span>-</span></div>
            <div class="circle">15 <span>-</span></div>
            <div class="circle">16 <span>-</span></div>
            <div class="circle">17 <span>-</span></div>
            <div class="circle">18 <span>-</span></div>
        </div>
  </div>

      <div class="card-container">
          <div class="operations">

    <div class="box black side">
      <h3>Compressor Disk Stage 5</h3>
      <p>Part number: 669605</p>
      <p>Part serial: P58889</p>
      <p>Engine type: JT9D-7R4D</p>
      <p>Engine serial: P58889</p>
    <!--  <img src="https://assets.codepen.io/2301174/icon-team-builder.svg" alt="">  -->
    </div>

    <div class="box black side">
      <h3>Spec & W.O</h3>
      <p>Work order: 5326536</p>
      <p>Material: Inconel 718</p>
      <p>Drawing: <a href="#">Part drawing</a></p>
    </div>

      <div class="box black side">
       <h3>Current location</h3>
       <p class="barcode">11234</p>
       <p id="current-step">Waterjet department</p>
     </div>

      <div class="box black side">
      <h3>Creation & Revisions</h3>
      <h4>Rev B</h4>
      <p>Created by: Slav leonid</p>
      <p>Created On: 12/03/2012</p>
      <p>Revised by: david nachmani</p>
      <p>Revised on: 27/01/2022</p>
      </div>

     <!-- <button class="btn btn-action-transit" id="open-ps">TRANSIT</button> -->

     <!--
      <div class="btn-container">
        <button class="btn" id="prev" disabled>Prev</button>
        <button class="btn" id="next">Next</button>
      </div>-->

          </div>
            <div class="data">


                 <div class="box cyan">

                     <div class="sign-container">
                       <!--
                       <div class="signature">
                         <p class="span">Digitally signed by:</p>
                         <p>BED 161 CRS-500</p>
                         <p>Quality Assurance Engineer</p>
                         <p class="date-time">15:12, 23/07/2022</p>
                         <p class="watermark">approved</p>
                       </div>-->


                     </div>

                       <div class="numberCircle">OP 1</div>
                       <button class="btn btn-action-end up-position" id="finBtn" onclick="openPasswordDialog('Edit Step')">EDIT</button>
                       <h3>Shot peen</h3>
                       <p>Work center: 3425</p>
                       <p class="instructions">Shot peen marked area on part according to process sheet: SSP-1120763, <a href="">72-09-36 Rep 01</a></p>
                       <p class="boldText">Remember to log the Almen intensity!</p>

                       <div class="btns-container">
                        <button class="btn" id="open-ps"><a href="">Process sheet</a></button>
                       <!-- <button class="btn btn-lab" id="open-ps"><a href="">Almen intensity</a></button>-->
                       </div>

                       <div class="all-sigs-container">
                          <div class="trapez">
                           EM 300
                           </div>

                           <div class='semi-circle-sig'>END 001</div>
                           <div class="circle-sig circle-sig-semi2">END 001</div>
                           <div class="circle-sig">BED 001 LIC 0209</div>
                           <div class="accept-sig">ACCEPT</div>

                       </div>

                        <hr class="divider">
                         <div class="step-info">
                           <div class="creation-info">
                             <div class="contact-line">
                               <i class="fas fa-hourglass-half contact-icon"></i>
                               <p>3 Hr</p>
                             </div>
                          <div class="contact-line">
                           <i class="fas fa-tools contact-icon"></i>
                           <p>Rosler shot peen machine</p>
                         </div>
                           <div class="contact-line">
                           <i class="fas fa-calendar-check contact-icon"></i>
                           <p>Exp. 04/12/2022</p>
                        </div>

                        </div>
                        <div class="usage-info">
                         <div class="contact-line">
                           <i class="far fa-user contact-icon"></i>
                           <p>David Nachmani</p>
                         </div>
                         <div class="contact-line">
                           <i class="fas fa-calendar-day contact-icon"></i>
                           <p>29/11/2021 13:47</p>
                         </div>

                         <div class="contact-line">
                           <i class="fas fa-calendar-week contact-icon"></i>
                           <p>04/12/2021 11:03</p>
                        </div>
                       </div>
                     </div>
                </div>



                  <div class="box orange active-card-scroll-top">
                       <div class="numberCircle">OP 2</div>
                       <button class="btn btn-action-end up-position" id="finBtn" onclick="openDialog()">FINISH</button>
                       <h3>Clean part</h3>
                       <p>Work center: 2205</p>
                       <p>Clean part according to <a href="">SPOP-208</a></p>

                       <hr class="divider">

                         <div class="step-info">
                           <div class="creation-info">
                             <div class="contact-line">
                               <i class="fas fa-hourglass-half contact-icon"></i>
                               <p>1 Hr</p>
                             </div>


                        </div>
                        <div class="usage-info">
                         <div class="contact-line">
                           <i class="far fa-user contact-icon"></i>
                           <p>David Nachmani</p>
                         </div>
                         <div class="contact-line">
                           <i class="fas fa-calendar-day contact-icon"></i>
                           <p>29/11/2021 13:47</p>
                         </div>

                       </div>
                     </div>
                </div>

                 <div class="box red">
                         <button class="btn btn-action up-position tooltip" id="strBtn">START
                           <span class="tooltiptext">Machine Expiration date has passed</span>
                       </button>
                       <div class="numberCircle  dash-nine">OP 3</div>
                       <h3>GTAW welding</h3>
                       <p>Work center: 12824</p>
                       <p>Fill crack with AMS 5830 weild wire GTAW welding</p>
                       <p class="boldText">Remember to log the Filler wire batch you used!</p>
                     <!--  <button class="btn btn-lab" id="open-ps"><a href="">Filler wire batch</a></button>-->

                       <hr class="divider">
                         <div class="step-info">
                           <div class="creation-info">

                           <div class="contact-line">
                           <i class="fas fa-calendar-check contact-icon"></i>
                           <p>04/12/2020</p>
                        </div>
                          <div class="contact-line">
                           <i class="fas fa-tools contact-icon"></i>
                           <p>PUK welder machine</p>
                         </div>
                           <div class="contact-line">
                           <i class="fas fa-calendar-check contact-icon"></i>
                           <p>Exp. 04/12/2020</p>
                        </div>

                        </div>

                     </div>
                </div>

                   <div class="box red">
                       <button class="btn btn-action up-position tooltip" id="strBtn2">START
                           <span class="tooltiptext">Previous step must be signed & closed before continuing to this step</span>
                       </button>

                       <div class="numberCircle">OP 4</div>
                       <h3>Heat treat</h3>
                       <p>Work center: 12826</p>
                       <p>Prefoem heat treatment per HTR 112534</p>

                     <!--  <button class="btn btn-lab" id="open-ps"><a href="">Filler wire batch</a></button>-->

                       <hr class="divider">
                         <div class="step-info">
                           <div class="creation-info">
                             <div class="contact-line">
                               <i class="fas fa-hourglass-half contact-icon"></i>
                               <p>2.5 Hr</p>
                             </div>

                        </div>

                     </div>
               <hr class="divider">
                      <div class="exception-container">
                       <h3>Exception notice</h3>
                       <p>Part was held a temp of 1000C for 3 hours, instead of 2. and approved by quality assurance.</p>
                      </div>
                </div>

                <div class="box red">
                    <button class="btn btn-action-end up-position tooltip" onclick="openCladdingDialog()" id="strBtn3">FINISH
                           <span class="tooltiptext">Previous step must be signed & closed before continuing to this step</span>
                    </button>
                  <div class="numberCircle">OP 5</div>
                  <h3>Metallugraphic evaluation</h3>
                  <p>Work center: 11824</p>
                  <p>Metallugraphic evaluation of laser cladding according to..</p>
                 <!-- <button class="btn btn-lab" id="open-ps"><a href="">Lab results</a></button>-->

                  <hr class="divider">
                   <div class="step-info">
                           <div class="creation-info">
                             <div class="contact-line">
                               <i class="fas fa-hourglass-half contact-icon"></i>
                               <p>2.5 Hr</p>
                             </div>

                        </div>

                     </div>
                 </div>

                 <div class="box red">
                     <button class="btn btn-action up-position tooltip" id="strBtn4">START
                            <span class="tooltiptext">Previous step must be signed & closed before continuing to this step</span>
                        </button>
                   <div class="numberCircle">OP 6</div>
                   <h3>Remove plasma coating</h3>
                   <p class="subcontractor">Work center: BET SHEMESH ENGINED subcontractor</p>
                   <p>Remove plasma coating from the marked areas per <a href="">WJS 11235344</a> </p>
                  <!-- <button class="btn btn-lab" id="open-ps"><a href="">Lab results</a></button>-->

                    <hr class="divider">
                    <div class="step-info">
                            <div class="creation-info">
                              <div class="contact-line">
                                <i class="fas fa-hourglass-half contact-icon"></i>
                                <p>2.5 Hr</p>
                              </div>

                         </div>
                    </div>
                </div>


                 <div class="box cyan-all">


                       <h3>Service approval certificate</h3>
                       <p>P.N 647348 Serial 646CA</p>
                       <p>Engine: PW400 Serial 67264D</p>
                       <p class="instructions">The part has undergone the entie repair processes, as required by repair refrences and has met all the requirments.</p>


                     <div class="sign-container-inline">
                       <div class="signature">
                         <p class="span">Digitally signed by:</p>
                         <p>BED 161 CRS-500</p>
                         <p>Quality Assurance Engineer</p>
                         <p class="date-time">15:12, 23/07/2022</p>
                         <p class="watermark">approved</p>
                       </div>

                    <!--  <div class="round-signature-container">
                        <div class="round-signature"> </div>
                        <p class="watermark-two">approved</p>
                      </div>-->

                    <!--   <div id="trapezoid"></div>-->

                     </div>


                        <hr class="divider">

                        <div class="step-info">

                        <div class="creation-info">
                           <button class="btn" id="open-ps"><a href=""><i class="fas fa-file-download"></i> Download</a></button>
                           <button class="btn btn-lab" id="open-ps"><a href=""><i class="fas fa-print"></i> Print</a></button>
                        </div>

                        <div class="usage-info">
                         <div class="contact-line">
                           <i class="far fa-user contact-icon"></i>
                           <p>David Nachmani</p>
                         </div>
                         <div class="contact-line">
                           <i class="fas fa-calendar-day contact-icon"></i>
                           <p>29/11/2021 13:47</p>
                         </div>

                         <div class="contact-line">
                           <i class="fas fa-calendar-week contact-icon"></i>
                           <p>04/12/2021 11:03</p>
                        </div>
                       </div>

                     </div>
                </div>




           </div>
      </div>
    </div>


    <div id="input-dialog-background" class="dialog-background"></div>

    <div id="input-dialog" class="box red finish-dialog">
     <!-- <form action="results.html" method="GET" enctype="multipart/form-data">-->
      <div class="form">
        <h2>Close step</h2>
        <div>
          <label for="color">Status</label>
          <select name="color" id="color">
            <option value="pass">Pass</option>
            <option value="fail">Fail</option>
            <option value="exception">Exception</option>
            <option value="invalid">Invalid</option>
            <option value="for info">For information</option>
          </select>
        </div>

        <div>
          <label for="comments">Results</label>
          <input type="text" name="comments" id="comments">
        </div>

        <div>
          <label for="bio">Comments / Description</label>
          <textarea name="bio" id="bio" cols="30" rows="6"></textarea>
        </div>

        <div>
          <label for="file">upload file</label>
          <input  class="custom-file-input" type="file" name="file" id="file">
        </div>

        <div class="btn-div btn-div-finish">
          <button class="blue" type="" onclick="closeDialog()">Cancel</button>

          <div>
            <button class="blue" type="submit">Connect</button>
            <button id="submitBtn" type="" onclick="closeDialog()">Submit</button>
          </div>
        </div>

      </div>
    </div>

    <!--------------edit dialog-------------------->

    <div id="password-dialog" class="box blue finish-dialog">
      <!-- <form action="results.html" method="GET" enctype="multipart/form-data">-->
       <div class="form">
         <h2>Edit part route card</h2>

         <div>
           <label for="username">Username</label>
           <input type="text" name="username" id="username">
         </div>
         <div>
          <label for="password">Password</label>
          <input type="password" name="password" id="password">
        </div>


         <div class="btn-div">
           <button class="blue" type="" onclick="closePasswordDialog()">Cancel</button>
           <button id="submitBtn" type="" onclick="closePasswordDialog()">Submit</button>
         </div>

       </div>
     </div>

     <!-------------------cladding dialog---------------------------------->

     <div id="input-dialog-cladding" class="box red finish-dialog">
      <!-- <form action="results.html" method="GET" enctype="multipart/form-data">-->
       <div class="form">
         <h2>Laser cladding</h2>
         <div>
           <label for="color">campaign</label>
           <select name="color" id="color">
             <option value="pass">Start</option>
             <option value="invalid">End</option>
           </select>
         </div>

         <div>
           <label for="comments">Engineer</label>
           <input type="text" name="comments" id="comments" placeholder="Operator">
         </div>

         <h3>Metallugraphic test results</h3>
         <table>
           <thead>
             <tr>
               <th>Requirment</th>
               <th>PASS</th>
               <th>FAIL</th>
               <th>NA</th>
             </tr>
           </thead>
           <tbody>
             <tr>
               <td><div class="table_cell req">Sections 1, 2, 3, 4, 5, 6</div></td>
               <td></td>
               <td></td>
               <td></td>
             </tr>
             <tr>
               <td><div class="table_cell req">Max dimension (Porosity or Crack), 0.039 inch (1mm)</div></td>
               <td><div class="table_cell"><input type="checkbox" value="Bike"></div></td>
               <td><div class="table_cell"><input type="checkbox" value="Bike"></div></td>
               <td><div class="table_cell"><input type="checkbox" value="Bike"></div></td>
             </tr>
             <tr>
               <td><div class="table_cell req">Sections 7, 8</div></td>
               <td></td>
               <td></td>
               <td></td>
             </tr>
             <tr>
               <td><div class="table_cell req">Max dimension (Porosity or Crack), 0.059 inch (1.5mm)</div></td>
               <td><div class="table_cell"><input type="checkbox" value="Bike"></div></td>
               <td><div class="table_cell"><input type="checkbox" value="Bike"></div></td>
               <td><div class="table_cell"><input type="checkbox" value="Bike"></div></td>
             </tr>
           </tbody>
         </table>
         <p>* Min dimension to consider(Porosity or Crack), >0.0118 inch (0.3mm).</p>
         <p>* Min spacing between 2 indications, 2 X largest indication dimension.</p>


         <div class="btn-div">

           <div>
             <button class="blue" type="" onclick="closeCladdingDialog()">Cancel</button>
             <button id="submitBtn" type="" onclick="closeCladdingDialog()">Submit</button>
           </div>
         </div>

       </div>
     </div>

     <!--------------edit dialog-------------------->

    <script>

const inputDialogBackground = document.getElementById('input-dialog-background')
const inputDialog = document.getElementById('input-dialog')
const passwordDialog = document.querySelector('#password-dialog')
const claddingDialog = document.querySelector('#input-dialog-cladding')
const submitBtn = document.getElementById('submitBtn')

const progress = document.getElementById('progress')
//const prev = document.getElementById('prev')
//const next = document.getElementById('next')
const editBtn = document.getElementById('editBtn')
const finishStep = document.getElementById('finBtn')
const startStep = document.getElementById('strBtn')
const startStep2 = document.getElementById('strBtn2')
const startStep3 = document.getElementById('strBtn3')
const startStep4 = document.getElementById('strBtn4')
const circles = document.querySelectorAll('.circle')
const stepBox = document.getElementById('current-step')
const activeCard = document.querySelector('.active-card-scroll-top')


var activeCard1;
const operationCards = document.querySelectorAll('.data .box')
findActiveCard();

function findActiveCard(){
  for(i=0;i<operationCards.length;i++){
   if(operationCards[i].classList.contains('active-card-scroll-top')){
     activeCard1 = i;
     break;
   }
  }
}



function moveActiveCard(){
  if(activeCard1<operationCards.length-1){
    operationCards[activeCard1].classList.remove("active-card-scroll-top");
    activeCard1 = activeCard1+1;
    operationCards[activeCard1].classList.add("active-card-scroll-top");
    //operationCards[activeCard1].scrollIntoView();
    scrollCardToView(activeCard1);
  }
}


window.onload = function () {
  var queryString = location.search.substring(1);
  var queryStringArray = queryString.replaceAll('%20', ' ').split('|');
  document.body.querySelector('.operations h3').innerHTML = queryStringArray[2];

  //show current station card on top
  for(i=0;i<operationCards.length;i++){
    if(operationCards[i].classList.contains("active-card-scroll-top")){
      break;
    }
  }
//  activeCard.scrollIntoView();
  scrollCardToView(i+1);
}


let currentActive = 1
startStep4.disabled = true
//startStep3.disabled = true
startStep2.disabled = true
startStep.disabled = true


//set up click listener on progess dots
var g = document.querySelector('.progress-container');
for (var i = 0, len = g.children.length; i < len; i++){

    (function(index){
        g.children[i].onclick = function(){
          if(index< operationCards.length+1){
            //operationCards[index-1].scrollIntoView();

           scrollCardToView(index);
          }
        }
    })(i);
}

function scrollCardToView(index){
  const yOffset = -120;
  const y = operationCards[index-1].getBoundingClientRect().top + window.pageYOffset + yOffset;
  console.log(y)
  window.scrollTo({top: y, behavior: 'smooth'});
}


submitBtn.addEventListener('click', () => {
    currentActive++

    if(currentActive > circles.length) {
        currentActive = circles.length
    }

    stepBox.textContent = 'In transit to step ' + (currentActive+1);

    update()
    moveActiveCard()
    startStep.disabled = false
})

startStep.addEventListener('click', () => {
    currentActive--

    if(currentActive < 0) {
        currentActive = 0
    }

    update()
})

editBtn.addEventListener('click', () => {
  openPasswordDialog('Edit Route Card')
})

function closeCladdingDialog(){
  inputDialogBackground.style.display = "none";
  claddingDialog.style.display = "none";
}

function openCladdingDialog(){
  inputDialogBackground.style.display = "flex";
  claddingDialog.style.display = "flex";
}

function closePasswordDialog(){
  inputDialogBackground.style.display = "none";
  passwordDialog.style.display = "none";
}

function openPasswordDialog(title){
  inputDialogBackground.style.display = "flex";
  passwordDialog.style.display = "flex";
  passwordDialog.querySelector('h2').innerText = title;
}

function openDialog(){
  inputDialogBackground.style.display = "flex";
  inputDialog.style.display = "flex";
}

function closeDialog(){
  inputDialogBackground.style.display = "none";
  inputDialog.style.display = "none";
}

function update() {
    circles.forEach((circle, idx) => {
        if(idx < currentActive) {
            circle.classList.add('active')
           // circles[idx+1].classList.add('current-circle')
        } else {
            circle.classList.remove('active')
        }
        circle.classList.remove('current-circle')
    })

    if(currentActive < circles.length){
    circles[currentActive].classList.add('current-circle')
    }

    const actives = document.querySelectorAll('.active')

    progress.style.width = (actives.length - 1) / (circles.length - 1) * 100 + '%'

    /*
    if(currentActive === 1) {
        prev.disabled = true
    } else if(currentActive === circles.length) {
        next.disabled = true
    } else {
        prev.disabled = false
        next.disabled = false
    }*/

    stepBox.textContent = 'Currently at step ' + (currentActive+1);
}
    </script>

  </body>
</html>
